<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <link rel="icon" type="image/png" href="/FAV_ICON.png" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>RecklessBear | Premium Custom Sportswear</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Anton&family=Bebas+Neue&family=Montserrat:wght@400;500;700;900&display=swap" rel="stylesheet">
    <meta name="description" content="RecklessBear designs and manufactures elite custom sportswear for schools, teams, and athletes in South Africa. From concept to creation — Do it Reckless." />
    
    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://recklessbear.co.za/">
    <meta property="og:title" content="RecklessBear | Premium Custom Sportswear">
    <meta property="og:description" content="RecklessBear designs and manufactures elite custom sportswear for schools, teams, and athletes in South Africa. From concept to creation — Do it Reckless.">
    <meta property="og:image" content="https://res.cloudinary.com/dnlgohkcc/image/upload/v1768799688/reckless_logo_r910n4.png">

    <!-- Twitter -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:url" content="https://recklessbear.co.za/">
    <meta name="twitter:title" content="RecklessBear | Premium Custom Sportswear">
    <meta name="twitter:description" content="RecklessBear designs and manufactures elite custom sportswear for schools, teams, and athletes in South Africa. From concept to creation — Do it Reckless.">
    <meta name="twitter:image" content="https://res.cloudinary.com/dnlgohkcc/image/upload/v1768799688/reckless_logo_r910n4.png">
    <style>
      /* Force chatbot widget to bottom-right - inline styles for maximum priority */
      .vg-widget-controls-container,
      #vg_chat_toggle,
      [class*="vg-widget"],
      [id*="vg_chat"],
      [class*="widget-controls"] {
        position: fixed !important;
        right: 20px !important;
        bottom: 20px !important;
        left: auto !important;
        top: auto !important;
        transform: none !important;
        margin: 0 !important;
        z-index: 99999 !important;
      }
      #VG_OVERLAY_CONTAINER,
      #VG_ROOT_INNER {
        position: static !important;
      }
      /* Force modal to be centered and 90% width when open */
      .vg-chat-overlay-container,
      #vg-mother-container,
      .vg-chat-view-container {
        position: fixed !important;
        top: 50% !important;
        left: 50% !important;
        transform: translate(-50%, -50%) !important;
        width: 90vw !important;
        height: 90vh !important;
        max-width: 90vw !important;
        max-height: 90vh !important;
        margin: 0 !important;
        z-index: 999999 !important;
        overflow: hidden !important;
      }
      /* Remove scale transforms and ensure content fits inside modal */
      .vg-chat-overlay-container > *,
      #vg-mother-container > *,
      .vg-chat-view-container > * {
        transform: none !important;
        scale: 1 !important;
        zoom: 1 !important;
        width: 100% !important;
        height: 100% !important;
        max-width: 100% !important;
        max-height: 100% !important;
        margin: 0 !important;
        position: relative !important;
        overflow: auto !important;
      }
      @media (max-width: 768px) {
        .vg-chat-overlay-container,
        #vg-mother-container,
        .vg-chat-view-container {
          width: 95vw !important;
          height: 95vh !important;
          max-width: 95vw !important;
          max-height: 95vh !important;
        }
      }
    </style>
  </head>
  <body class="bg-black">
    <div id="root"></div>
    <script type="module" src="/src/main.tsx"></script>

    <div id="VG_OVERLAY_CONTAINER" style="width: 0; height: 0;"></div>
    <script>
      (function() {
        window.VG_CONFIG = {
          ID: "6BhLW2avFF69X0ydpkZ3",
          region: "na",
          render: "bottom-right",
          modalMode: true,
          stylesheets: [
            "https://vg-bunny-cdn.b-cdn.net/vg_live_build/styles.css",
            "/convocore-overrides.css"
          ]
        };
        var VG_SCRIPT = document.createElement("script");
        VG_SCRIPT.src = "https://vg-bunny-cdn.b-cdn.net/vg_live_build/vg_bundle.js";
        VG_SCRIPT.defer = true;
        VG_SCRIPT.onload = function() {
          // Force widget to bottom-right after it loads
          function fixWidgetPosition() {
            // Try multiple selectors to find the widget
            var selectors = [
              '.vg-widget-controls-container',
              '#vg_chat_toggle',
              '[class*="vg-widget"]',
              '[id*="vg_chat"]',
              '[class*="widget-controls"]',
              'button[class*="vg-"]',
              'div[class*="vg-"][class*="widget"]'
            ];
            
            selectors.forEach(function(selector) {
              try {
                var elements = document.querySelectorAll(selector);
                elements.forEach(function(el) {
                  if (el && el.offsetParent !== null) { // Only fix visible elements
                    el.style.setProperty('position', 'fixed', 'important');
                    el.style.setProperty('right', '20px', 'important');
                    el.style.setProperty('bottom', '20px', 'important');
                    el.style.setProperty('left', 'auto', 'important');
                    el.style.setProperty('top', 'auto', 'important');
                    el.style.setProperty('transform', 'none', 'important');
                    el.style.setProperty('margin', '0', 'important');
                    el.style.setProperty('z-index', '99999', 'important');
                  }
                });
              } catch(e) {}
            });
          }
          
          // Fix immediately and repeatedly
          fixWidgetPosition();
          setTimeout(fixWidgetPosition, 50);
          setTimeout(fixWidgetPosition, 100);
          setTimeout(fixWidgetPosition, 250);
          setTimeout(fixWidgetPosition, 500);
          setTimeout(fixWidgetPosition, 1000);
          setTimeout(fixWidgetPosition, 2000);
          
          // Continuous fix every 500ms
          var fixInterval = setInterval(fixWidgetPosition, 500);
          
          // Watch for widget being added
          var observer = new MutationObserver(function(mutations) {
            mutations.forEach(function(mutation) {
              mutation.addedNodes.forEach(function(node) {
                if (node.nodeType === 1) {
                  if (node.classList && (
                    node.classList.contains('vg-widget-controls-container') ||
                    node.id === 'vg_chat_toggle' ||
                    node.className.includes('vg-widget') ||
                    node.id.includes('vg_chat')
                  )) {
                    fixWidgetPosition();
                  }
                  // Also check children
                  var widget = node.querySelector && (
                    node.querySelector('.vg-widget-controls-container') ||
                    node.querySelector('#vg_chat_toggle') ||
                    node.querySelector('[class*="vg-widget"]')
                  );
                  if (widget) {
                    fixWidgetPosition();
                  }
                }
              });
            });
          });
          observer.observe(document.body, { childList: true, subtree: true });
          
          // Stop interval after 30 seconds to prevent performance issues
          setTimeout(function() {
            clearInterval(fixInterval);
          }, 30000);
          
          // Fix modal positioning when it opens
          function fixModalPosition() {
            var viewportWidth = window.innerWidth;
            var viewportHeight = window.innerHeight;
            var isMobile = viewportWidth <= 768;
            var modalWidth = isMobile ? '95vw' : '90vw';
            var modalHeight = isMobile ? '95vh' : '90vh';
            
            // Find modal containers
            var modalSelectors = [
              '.vg-chat-overlay-container',
              '#vg-mother-container',
              '.vg-chat-view-container',
              '[class*="chat-overlay"]',
              '[id*="mother-container"]'
            ];
            
            modalSelectors.forEach(function(selector) {
              try {
                var modals = document.querySelectorAll(selector);
                modals.forEach(function(modal) {
                  if (modal) {
                    var rect = modal.getBoundingClientRect();
                    // Only fix if modal is visible and reasonably sized (chat is open)
                    if (rect.width > 200 || rect.height > 200) {
                      modal.style.setProperty('position', 'fixed', 'important');
                      modal.style.setProperty('top', '50%', 'important');
                      modal.style.setProperty('left', '50%', 'important');
                      modal.style.setProperty('transform', 'translate(-50%, -50%)', 'important');
                      modal.style.setProperty('width', modalWidth, 'important');
                      modal.style.setProperty('height', modalHeight, 'important');
                      modal.style.setProperty('max-width', modalWidth, 'important');
                      modal.style.setProperty('max-height', modalHeight, 'important');
                      modal.style.setProperty('margin', '0', 'important');
                      modal.style.setProperty('z-index', '999999', 'important');
                      modal.style.setProperty('right', 'auto', 'important');
                      modal.style.setProperty('bottom', 'auto', 'important');
                      modal.style.setProperty('overflow', 'hidden', 'important');
                      
                      // Fix children to fit inside modal - remove scale and ensure proper sizing
                      var children = Array.from(modal.children);
                      children.forEach(function(child) {
                        if (child && child.nodeType === 1) {
                          child.style.setProperty('transform', 'none', 'important');
                          child.style.setProperty('scale', '1', 'important');
                          child.style.setProperty('zoom', '1', 'important');
                          child.style.setProperty('width', '100%', 'important');
                          child.style.setProperty('height', '100%', 'important');
                          child.style.setProperty('max-width', '100%', 'important');
                          child.style.setProperty('max-height', '100%', 'important');
                          child.style.setProperty('margin', '0', 'important');
                          child.style.setProperty('position', 'relative', 'important');
                          child.style.setProperty('overflow', 'auto', 'important');
                          child.style.setProperty('box-sizing', 'border-box', 'important');
                        }
                      });
                    }
                  }
                });
              } catch(e) {}
            });
          }
          
          // Fix modal position continuously
          var modalFixInterval = setInterval(fixModalPosition, 300);
          
          // Also fix when modal elements are added
          var modalObserver = new MutationObserver(function(mutations) {
            mutations.forEach(function(mutation) {
              mutation.addedNodes.forEach(function(node) {
                if (node.nodeType === 1) {
                  if (node.classList && (
                    node.classList.contains('vg-chat-overlay-container') ||
                    node.id === 'vg-mother-container' ||
                    node.classList.contains('vg-chat-view-container') ||
                    node.className.includes('chat-overlay')
                  )) {
                    setTimeout(fixModalPosition, 50);
                    setTimeout(fixModalPosition, 200);
                    setTimeout(fixModalPosition, 500);
                  }
                  // Check children
                  var modal = node.querySelector && (
                    node.querySelector('.vg-chat-overlay-container') ||
                    node.querySelector('#vg-mother-container') ||
                    node.querySelector('.vg-chat-view-container')
                  );
                  if (modal) {
                    setTimeout(fixModalPosition, 50);
                    setTimeout(fixModalPosition, 200);
                    setTimeout(fixModalPosition, 500);
                  }
                }
              });
            });
          });
          modalObserver.observe(document.body, { childList: true, subtree: true });
        };
        document.body.appendChild(VG_SCRIPT);
      })();
    </script>
  </body>
</html>
